# å®¶ç”¨å°å·¥å…·

> ğŸ  ä¸€ä¸ªæ¸©é¦¨çš„å®¶åº­åŠ©æ‰‹åº”ç”¨ï¼Œè®©ç”Ÿæ´»æ›´æœ‰æ¡ç†ã€æ›´æœ‰è¶£ï¼

## åŠŸèƒ½æ¨¡å—

| æ¨¡å—       | è¯´æ˜               | è·¯ç”±         |
| ---------- | ------------------ | ------------ |
| ğŸ  é¦–é¡µ     | å¿«æ·å…¥å£ã€ä»Šæ—¥æ¦‚è§ˆ | `/`          |
| ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å®¶åº­æˆå‘˜ | ç®¡ç†å®¶åº­æˆå‘˜ä¿¡æ¯   | `/family`    |
| âœ… å¾…åšä»»åŠ¡ | æ—¥å¸¸ä»»åŠ¡ç®¡ç†       | `/todos`     |
| ğŸ“š çŸ¥è¯†åº“   | å®¶åº­çŸ¥è¯†åˆ†äº«       | `/knowledge` |
| ğŸ“ æœ¨æœ¨æ—¥è®° | è®°å½•ç”Ÿæ´»ç‚¹æ»´       | `/diary`     |
| ğŸ”„ å‘¨æœŸä»»åŠ¡ | å®šæœŸæé†’äº‹é¡¹       | `/periodic`  |
| ğŸ® æ¸¸æˆç©ºé—´ | ç›Šæ™ºå°æ¸¸æˆ         | `/games`     |
| â­ æˆ‘çš„æ”¶è— | æ”¶è—å–œæ¬¢çš„å†…å®¹     | `/favorites` |
| ğŸ“ˆ æˆé•¿è½¨è¿¹ | è®°å½•æˆé•¿å†ç¨‹       | `/growth`    |

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React 18 + Vite + TypeScript
- **UI**: Tailwind CSS + Lucide Icons
- **åç«¯**: Fastify + TypeScript
- **æ•°æ®å­˜å‚¨**: JSON æ–‡ä»¶ï¼ˆæ— éœ€æ•°æ®åº“ï¼‰

## é¡¹ç›®ç‰¹ç‚¹

- âœ… **æ— éœ€æ•°æ®åº“**: æ‰€æœ‰æ•°æ®ä»¥ JSON æ–‡ä»¶å½¢å¼å­˜å‚¨
- âœ… **Git å‹å¥½**: æ•°æ®æ–‡ä»¶å¯ä»¥ç›´æ¥çº³å…¥ç‰ˆæœ¬æ§åˆ¶
- âœ… **æ˜“äºè¿ç§»**: ç›´æ¥å¤åˆ¶ç›®å½•å³å¯å®Œæˆå¤šæœºå™¨åŒæ­¥
- âœ… **ç®€å•éƒ¨ç½²**: æ— éœ€é…ç½®æ•°æ®åº“ç¯å¢ƒ

## å¿«é€Ÿå¼€å§‹

### å¼€å‘æ¨¡å¼

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
npm run install:all

# å¯åŠ¨å¼€å‘æœåŠ¡
npm run dev
```

å‰ç«¯å¼€å‘æœåŠ¡: http://localhost:5173
åç«¯ API æœåŠ¡: http://localhost:3000

### ç”Ÿäº§éƒ¨ç½²

```bash
# é¦–æ¬¡éƒ¨ç½²éœ€è¦å…ˆåˆå§‹åŒ–
./deployScript/initAll.sh

# ä¸€é”®å¯åŠ¨ï¼ˆæ„å»º + éƒ¨ç½²ï¼‰
./deployScript/startAll.sh
```

è®¿é—®åœ°å€: http://localhost:3000

## ç›®å½•ç»“æ„

```
homework/
â”œâ”€â”€ client/              # å‰ç«¯é¡¹ç›® (React + Vite)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/  # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/       # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ lib/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ App.tsx      # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ dist/            # æ„å»ºäº§ç‰©
â”œâ”€â”€ server/              # åç«¯é¡¹ç›® (Fastify)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/      # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ utils/       # å·¥å…·å‡½æ•°å’Œæ–‡ä»¶ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ index.ts     # æœåŠ¡å…¥å£
â”‚   â””â”€â”€ dist/            # æ„å»ºäº§ç‰©
â”œâ”€â”€ fileDB/              # æ–‡ä»¶æ•°æ®åº“ï¼ˆJSON æ•°æ®å­˜å‚¨ï¼‰
â”‚   â”œâ”€â”€ familyMembers/   # å®¶åº­æˆå‘˜æ•°æ®
â”‚   â”‚   â”œâ”€â”€ members.json             # æˆå‘˜ä¿¡æ¯
â”‚   â”‚   â”œâ”€â”€ attributeDefinitions.json # å±æ€§å®šä¹‰
â”‚   â”‚   â””â”€â”€ attributeValues.json     # å±æ€§å€¼
â”‚   â””â”€â”€ appConfig/       # åº”ç”¨é…ç½®
â”œâ”€â”€ data/                # åº”ç”¨æ•°æ®
â”‚   â””â”€â”€ diaries/         # æ—¥è®°æ•°æ®ï¼ˆæŒ‰æ—¥æœŸç»„ç»‡ï¼‰
â”œâ”€â”€ knowledgeFiles/      # çŸ¥è¯†åº“æ•°æ®ï¼ˆæŒ‰åˆ†ç±»ç»„ç»‡ï¼‰
â”œâ”€â”€ configs/             # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.json      # é™æ€é…ç½®
â”‚   â””â”€â”€ deployConfig.json # éƒ¨ç½²é…ç½®
â”œâ”€â”€ deployScript/        # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ initAll.sh       # åˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ startAll.sh      # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ logs/                # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ uploadFiles/         # ä¸Šä¼ æ–‡ä»¶
â”‚   â”œâ”€â”€ diaryFiles/      # æ—¥è®°åª’ä½“æ–‡ä»¶
â”‚   â”œâ”€â”€ gameFiles/       # æ¸¸æˆæ–‡ä»¶
â”‚   â”œâ”€â”€ knowledgeFiles/  # çŸ¥è¯†åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ members/         # æˆå‘˜ç›¸å…³æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ avatars/     # å¤´åƒ
â”‚   â”‚   â”œâ”€â”€ logos/       # å±æ€§å›¾æ ‡
â”‚   â”‚   â””â”€â”€ attributes/  # å±æ€§å›¾ç‰‡
â”‚   â””â”€â”€ userFiles/       # ç”¨æˆ·æ–‡ä»¶
â”œâ”€â”€ tempFiles/           # ä¸´æ—¶æ–‡ä»¶ï¼ˆå¯åˆ é™¤ï¼‰
â”œâ”€â”€ aiRules/             # AIç¼–ç¨‹è§„åˆ™
â””â”€â”€ docs/                # é¡¹ç›®æ–‡æ¡£
```

## æ•°æ®å­˜å‚¨è¯´æ˜

### fileDB ç›®å½•

é¡¹ç›®ä½¿ç”¨ `fileDB/` ç›®å½•å­˜å‚¨ç»“æ„åŒ–æ•°æ®ï¼Œå–ä»£ä¼ ç»Ÿçš„ SQLite æ•°æ®åº“ï¼š

#### familyMembers/
- `members.json` - å®¶åº­æˆå‘˜åŸºæœ¬ä¿¡æ¯
- `attributeDefinitions.json` - åŠ¨æ€å±æ€§å®šä¹‰
- `attributeValues.json` - æˆå‘˜çš„å±æ€§å€¼

### å…¶ä»–æ•°æ®ç›®å½•

- `data/diaries/` - æ—¥è®°æ•°æ®ï¼ŒæŒ‰æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰ç»„ç»‡ç›®å½•
- `knowledgeFiles/` - çŸ¥è¯†åº“æ•°æ®ï¼ŒæŒ‰åˆ†ç±»å’Œå±‚çº§ç»„ç»‡

### æ•°æ®è¿ç§»

ç”±äºæ‰€æœ‰æ•°æ®éƒ½ä»¥æ–‡ä»¶å½¢å¼å­˜å‚¨ï¼Œè¿ç§»éå¸¸ç®€å•ï¼š

```bash
# å¤‡ä»½æ•°æ®
cp -r fileDB/ fileDB_backup/
cp -r data/ data_backup/
cp -r knowledgeFiles/ knowledgeFiles_backup/
cp -r uploadFiles/ uploadFiles_backup/

# åœ¨æ–°æœºå™¨ä¸Šè¿˜åŸ
# åªéœ€å°†è¿™äº›ç›®å½•å¤åˆ¶åˆ°æ–°é¡¹ç›®å³å¯
```

## API æ–‡æ¡£

### å®¶åº­æˆå‘˜æ¥å£

- `GET /api/family-members` - è·å–æ‰€æœ‰æˆå‘˜
- `GET /api/family-members/:id` - è·å–å•ä¸ªæˆå‘˜
- `POST /api/family-members` - åˆ›å»ºæˆå‘˜
- `PUT /api/family-members/:id` - æ›´æ–°æˆå‘˜
- `DELETE /api/family-members/:id` - åˆ é™¤æˆå‘˜

### å±æ€§å®šä¹‰æ¥å£

- `GET /api/member-attributes` - è·å–æ‰€æœ‰å±æ€§å®šä¹‰
- `POST /api/member-attributes` - åˆ›å»ºå±æ€§å®šä¹‰
- `PUT /api/member-attributes/:id` - æ›´æ–°å±æ€§å®šä¹‰
- `DELETE /api/member-attributes/:id` - åˆ é™¤å±æ€§å®šä¹‰

### å±æ€§å€¼æ¥å£

- `GET /api/family-members/:memberId/attributes` - è·å–æˆå‘˜çš„å±æ€§å€¼
- `GET /api/member-attribute-values` - è·å–æ‰€æœ‰å±æ€§å€¼
- `POST /api/member-attribute-values` - è®¾ç½®æˆ–æ›´æ–°å±æ€§å€¼
- `DELETE /api/member-attribute-values/:id` - åˆ é™¤å±æ€§å€¼

### æ—¥è®°æ¥å£

- `GET /api/diary` - è·å–æ‰€æœ‰æ—¥è®°
- `GET /api/diary/today` - è·å–ä»Šæ—¥æ—¥è®°
- `GET /api/diary/:id` - è·å–æŒ‡å®šæ—¥è®°
- `POST /api/diary` - åˆ›å»ºæ—¥è®°
- `PUT /api/diary/:id` - æ›´æ–°æ—¥è®°
- `DELETE /api/diary/:id` - åˆ é™¤æ—¥è®°

### çŸ¥è¯†åº“æ¥å£

- `GET /api/knowledge/categories` - è·å–æ‰€æœ‰çŸ¥è¯†åº“
- `GET /api/knowledge/sections` - è·å–äºŒçº§æ¿å—
- `GET /api/knowledge/subsections` - è·å–ä¸‰çº§æ¿å—
- `GET /api/knowledge/items` - è·å–çŸ¥è¯†æ¡ç›®

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ•°æ®ç±»å‹

1. åœ¨ `server/src/utils/` ä¸‹åˆ›å»ºæ–°çš„æ–‡ä»¶ç®¡ç†å™¨
2. åœ¨ `fileDB/` ä¸‹åˆ›å»ºå¯¹åº”çš„æ•°æ®ç›®å½•
3. åœ¨ `server/src/routes/` ä¸‹åˆ›å»º API è·¯ç”±

### ä»£ç è§„èŒƒ

å‚è€ƒ `aiRules/coding_rules.md` äº†è§£é¡¹ç›®ç¼–ç è§„èŒƒã€‚

## ç‰ˆæœ¬å†å²

- **v2.0.0** (2026-01-12) - ç§»é™¤ SQLiteï¼Œæ”¹ç”¨ JSON æ–‡ä»¶å­˜å‚¨
- **v1.0.0** (2025-12-30) - åˆå§‹ç‰ˆæœ¬ï¼Œä½¿ç”¨ SQLite æ•°æ®åº“

## License

MIT
